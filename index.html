<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Firdevs â¤ï¸</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- ğŸŒ PWA -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#ff4d6d">

<!-- ğŸ“± iOS PWA -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Firdevs â¤ï¸">
<link rel="apple-touch-icon" href="icon-192.png">

<link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
<link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">

<style>
body{
  margin:0;
  height:100vh;
  background:url("foto.jpg") center/cover no-repeat;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:"Segoe UI",sans-serif;
  overflow:hidden;
}
.overlay{
  position:absolute;
  inset:0;
  background:rgba(0,0,0,.6);
}
.card{
  position:relative;
  z-index:2;
  background:rgba(255,255,255,.15);
  backdrop-filter:blur(10px);
  padding:28px;
  border-radius:24px;
  color:white;
  text-align:center;
  max-width:420px;
  animation:open 1.2s ease forwards;
}
@keyframes open{to{opacity:1;transform:scale(1)}}

.heart{font-size:60px;animation:beat 1s infinite}
@keyframes beat{50%{transform:scale(1.25)}}

button{
  margin-top:15px;
  padding:12px 24px;
  border:none;
  border-radius:30px;
  font-size:16px;
  cursor:pointer;
}
#yes{background:#ff4d6d;color:white}
#no{background:#555;color:white;position:absolute}

.audioBtn{background:white;color:#ff4d6d}

.musicToggle{
  position:fixed;bottom:20px;right:20px;
  width:55px;height:55px;border-radius:50%;
  background:#ff4d6d;color:white;
  display:flex;align-items:center;justify-content:center;
  font-size:24px;cursor:pointer;z-index:9999;
}

/* â¤ï¸ UÃ§an Kalpler */
.heart-float{
  position:fixed;bottom:-30px;
  animation:floatUp 6s linear forwards;
  pointer-events:none;font-size:30px;
}
@keyframes floatUp{
  to{transform:translateY(-110vh);opacity:0}
}

/* ğŸ® Mini Oyun */
.game-heart{
  position:fixed;
  font-size:40px;
  cursor:pointer;
  z-index:9999;
}
</style>
</head>

<body>
<div class="overlay"></div>

<audio id="bgMusic" loop><source src="muzik.mp3"></audio>
<audio id="voice"><source src="ses.mp3"></audio>

<div class="card">
  <div class="heart">â¤ï¸</div>
  <h2 id="greeting">Firdevsâ€¦</h2>

  â¤ï¸ Birlikte GeÃ§en SÃ¼re â¤ï¸
  <div id="counter"></div>

  <p>
    Senin iÃ§in kÃ¼Ã§Ã¼k bir jest yapmak istedim.<br><br>
    <strong>Beni seviyor musun?</strong><br><br>
    <em>â€” Mustafa</em>
  </p>

  <button id="yes">Ben de Seni Ã‡ok Seviyorum ğŸ’–</button>
  <button id="no">HayÄ±r ğŸ˜ </button>
  <button class="audioBtn" id="playVoice">ğŸ¤ Sesli Mesaj Dinle</button>
</div>

<div class="musicToggle" id="musicBtn">ğŸµ</div>

<script>
/* ğŸ”Œ SERVICE WORKER */
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("sw.js");
}

/* ğŸ”’ ELEMENTLER */
const music = bgMusic;
const voice = document.getElementById("voice");
const yes = document.getElementById("yes");
const no = document.getElementById("no");
const greeting = document.getElementById("greeting");

/* ğŸµ MÃœZÄ°K */
let playing=false;
musicBtn.onclick=()=>{
  playing ? music.pause() : music.play();
  playing=!playing;
};

/* ğŸ¤ SES */
playVoice.onclick=()=>voice.play();

/* â±ï¸ SAYAÃ‡ */
const startDate=new Date("2023-02-14");
setInterval(()=>{
  counter.innerText=
  Math.floor((new Date()-startDate)/(1000*60*60*24))+" gÃ¼n";
},1000);

/* âŒ HAYIR KAÃ‡SIN */
function kac(){
  no.style.left=Math.random()*(innerWidth-100)+"px";
  no.style.top=Math.random()*(innerHeight-50)+"px";
}
no.onmouseover=kac; no.ontouchstart=kac;

/* â¤ï¸ UÃ‡AN KALP */
function createHeart(){
  const h=document.createElement("div");
  h.className="heart-float";
  h.innerText="â¤ï¸";
  h.style.left=Math.random()*100+"vw";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),6000);
}

/* ğŸ’– YES + ğŸ® OYUN */
let score=0;
yes.onclick=()=>{
  score=0;
  for(let i=0;i<5;i++) spawnGameHeart();
};

function spawnGameHeart(){
  const h=document.createElement("div");
  h.className="game-heart";
  h.innerText="â¤ï¸";
  h.style.left=Math.random()*90+"vw";
  h.style.top=Math.random()*80+"vh";
  h.onclick=()=>{
    score++;
    h.remove();
    if(score===5){
      alert("ğŸ’– Kalbimi zaten Ã§oktan yakalamÄ±ÅŸtÄ±n ğŸ’–");
      for(let i=0;i<15;i++) setTimeout(createHeart,i*120);
    }
  };
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),4000);
}

/* ğŸ•°ï¸ SAATE GÃ–RE MESAJ */
const hour=new Date().getHours();
if(hour<12) greeting.innerText="GÃ¼naydÄ±n Firdevs â˜€ï¸";
else if(hour<18) greeting.innerText="Ä°yi gÃ¼nler Firdevs ğŸ’•";
else greeting.innerText="Ä°yi geceler Firdevs ğŸŒ™";

/* ğŸ“± SADECE PWA MESAJ */
if(window.matchMedia('(display-mode: standalone)').matches){
  setTimeout(()=>alert("ğŸ’– HoÅŸ geldin Firdevs ğŸ’–"),1200);
}
</script>
</body>
</html>
